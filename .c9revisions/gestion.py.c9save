{"ts":1359242686196,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"# -*- coding: utf-8 -*-\nfrom cherrypy._cpchecker import Checker\nimport database\nimport templater\nimport generadorHtml as genHtml\n\ndef registrar(modulo):\n    dic = {}\n    retorno = \"\"\n    tabla = \"\"\n    if modulo == \"usuarios\":\n        tabla = \"roles\"\n    elif modulo == \"roles\":\n        tabla = \"permissions\"\n    if tabla != \"\":\n        select = genHtml.llenarSelectBD(tabla)\n        dic = {\"opciones\":select}\n        retorno = templater.llenarPlantilla(modulo + \"/registro\", dic)\n    else:\n        retorno = templater.leerArchivo(modulo + \"/registro\")\n    return retorno\n\ndef listar(modulo):\n    dic={}\n    lista=[]\n    retorno=\"\"\n    dicTablas={\"usuarios\":\"users\",\"roles\":\"roles\",\"permisos\":\"permissions\"}\n    if modulo==\"usuarios\".lower():\n        lista=[\"ID\",\"Nombre\",\"Apellido\",\"Username\",\"Email\"]\n    elif modulo==\"roles\".lower():\n        lista=[\"ID\",\"Nombre\",\"Descripcion\"]\n    elif modulo==\"permisos\".lower():\n        lista=[\"ID\",\"Nombre\",\"Descripcion\"]\n    dic[\"tabla\"]=genHtml.llenarTablaBD(dicTablas[modulo],lista,True)\n    \n    retorno=templater.llenarPlantilla(\"general/listar\", dic)\n    return retorno\n\ndef eliminar(modulo,id):\n    db=database.DatabaseManager(\"WeBD\",\"MySql\")\n    return db.eliminar(modulo,id)\n\nif __name__ == \"__main__\":\n    print llenarTabla(\"users\")\n"]],"start1":0,"start2":0,"length1":0,"length2":1283}]],"length":1283}
{"contributors":[],"silentsave":true,"ts":1359242693104,"patch":[[{"diffs":[[0,"ger("],[-1,"\"WeBD\",\"MySql\""],[0,")\n  "]],"start1":1170,"start2":1170,"length1":22,"length2":8}]],"length":1269,"saved":false}
{"ts":1359242707682,"patch":[[{"diffs":[[0,"users\")\n"],[1,"\n"]],"start1":1261,"start2":1261,"length1":8,"length2":9}]],"length":1270,"saved":false}
{"ts":1359242711643,"patch":[[{"diffs":[[0,"ain__\":\n"],[1,"    \n"],[0,"    prin"]],"start1":1230,"start2":1230,"length1":16,"length2":21}]],"length":1275,"saved":false}
{"ts":1359242715079,"patch":[[{"diffs":[[0,"   \n"],[-1,"    print llenarTabla(\"users\")\n\n"]],"start1":1239,"start2":1239,"length1":36,"length2":4}]],"length":1243,"saved":false}
{"ts":1359242717854,"patch":[[{"diffs":[[0,"ain__\":\n    "],[1,"pass"],[0,"\n"]],"start1":1230,"start2":1230,"length1":13,"length2":17}]],"length":1247,"saved":false}
{"ts":1359242719979,"patch":[[{"diffs":[[0,"   pass\n"],[1,"\n"]],"start1":1239,"start2":1239,"length1":8,"length2":9}]],"length":1248,"saved":false}
